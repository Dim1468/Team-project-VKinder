# Класс User_DB

Класс `User_DB` разработан для взаимодействия программы с базой данных PostgreSQL. Этот класс создаёт пользователя с параметром `user_id` - уникальной последовательностью цифр, закреплённую за каждым пользователем вк.

### Методы класса

- `__init__(self, conn, user_id)`: инициализирует пользователя с заданными параметрами.


## Подкласс bot_user_DB

Подкласс `bot_user_DB(user_DB)` нужен для фиксирования пользователя ботом и его взаимодействия с ним в базу данных. 
Этот класс может добавить в базу данных нового пользователя ботом, записать историю поиска, достать поледнюю найденную страничку, добавить страницу пользователя в список понравившихся или непонравившихся и проверить, находится ли страница в чёрном списке.

### Методы класса

- `put_bot_user(self)`: добавляет нового пользователя бота с заданными параметрами в базу.

- `check_if_blocked(self, match_id) -> bool`: проверяет, находится ли страница пользоователя вк(`match_id`) в ЧС.

- `to_like(self, like_id)`: добавляет страницу пользователя с `id` равным `like_id` в список избранных пользователя.

- `to_block(self, block_id)`: блокирует страницу пользователя с `id` равным `block_id`.

- `put_search_data(self, criteria, match_id, status)`: кладёт в базу данных информацию о поиске(`criteria` - интересующия пользователя пол, по которому делался запрос: `{1: 'Женщина', 2: 'Мужчина'}`, `match_id` - страница пользователя вк, попавшегося в результате поиска, `status` - информация, о том, успешно ли прошел поиск).
  
-  `get_last_shown_user(self) -> tuple`: достаёт последнюю найденную страницу.

## Подкласс vk_user_DB

Подкласс `vk_user_DB(user_DB)` разработан для фиксирования страниц пользователей вк, попавшихся в результате поиска в базе данных.

### Методы класса

- `put_a_vk_user(self, gender: str, age: int, city: str, first_name: str, last_name: str, account_link: str, photo_links: dict)`: помещает информацию о странице пользователя вк, попавшемся в поиске в БД


## Примечания

Для использования данного кода необходимы библиотеки `psycopg2` и `psycopg2.extras` -> `Json`

Хранение фотографий происходит в виде `Json({...})`

